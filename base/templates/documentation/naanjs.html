{% extends '_layout.html' %}

{% block content %}

  

   <div class="page-header">
    <h1>Naan.js</h1>
   </div>
   
   <div class="subnav subnav-fixed">
    <ul class="nav nav-pills">      
      <li><a href="#ajax">AJAX Routines</a></li>
      <li><a href="#plugins">Plug-ins</a></li>
    </ul>
  </div>
   
   <div class="row">
    <div class="span12">       
    
        <h2 id="ajax">AJAX Routines</h2>
        <p>
            Thin wrappers on the standard JQuery <code>$.ajax()</code> calls that enforce Pusher Framework 
            conventions in order to encourage consistency (i.e. reduce complexity) and make AJAX error 
            checking standardized and thus easier.
        </p>
        <h4>API Routes JSON Convention</h4>
        <p>
            The convention is that all API routes will return JSON data in the form of either:
        </p>
        <p>
            <code>
                {
                    "success" : 1,
                    "data"    : { ... }
                }
            </code>
        </p>
        <p>
            <code>
                {
                    "error" : "...",
                    "data"    : { ... }
                }
            </code>
        </p>
        <p>
            The below Naan.js APIs below can then make the following assumptions: (1) the data returned from
            an API method is always JSON - if it does not parse as such, an error has occured, (2) the parsed
            json then contains either a "success" or "error" field - if it does not, an error has occurred,
            (3) if the error field is present, the callback should not be called, and the error message and
            data should be output to the browser console to help debug the issue, (4) if the success field is
            present, the data field contains the valid return value which can be passed to the callback.
        </p>
        
        <h4>API</h4>
        <style type="text/css">
            table.table-api
            {
                margin: 1em 0em 1em 2em;
                width: auto;
                font-size: 90%;
            }
            table.table-api>tbody>tr>td:nth-child(1)
            {
                font-family: monospace;
                font-weight : bold;
            }
        </style>
        <script type="text/javascript">
        <!--
            $(function() {
            });
        -->
        </script>
        
        <table class="table table-striped table-api">
          <tbody>
            <tr>
              <td>naan.ajaxGetJSON (url, data, callback)</td>
              <td>Use to <strong>get existing</strong> data from the database</td>
            </tr>
            <tr>
              <td>naan.ajaxPostJSON (url, data, callback)</td>
              <td>Use to <strong>add new</strong> data to the database</td>
            </tr>
            <tr>
              <td>naan.ajaxPutJSON (url, data, callback)</td>
              <td>Use to <strong>update existing</strong> data in the database</td>
            </tr>
            <tr>
              <td>naan.ajaxDeleteJSON (url, data, callback)</td>
              <td>Use to <strong>remove existing</strong> data from the database</td>
            </tr>
          </tbody>
        </table>
        <p>
            The API <code>callbacks</code> all take a JSON object representing the data returned by the
            API call.  As aforementioned, the data is already parsed as valid JSON.
        </p>
        
        
        <h2 id="#plugins" style="margin-top: 3em">Plug-ins</h2>
        <h3 style="margin-top: 2em">nann-info</h3>
        <p>
            Eases the creation of hidden-by-default "More Information" blocks of text that can be displayed
            via a more info icon.
        </p>
        <h4>Demo</h4>
        <div id="naan-info-demo">
            <p>
                This is a regular paragraph of text. Click on the icon following this paragraph to get more
                information. <a class="naan-info" href="#demo-naan-info"></a>
            </p>
            <p  id="demo-naan-info" data-title="This Title is Customizable">
                The script looks for links marked with the class <code>naan-info</code> and use the
                id in the <code>href</code> attribute to determine the block to be displayed when
                the link is clicked.
            </p>
        </div>
        <h4>Source</h4>
        <pre class="prettyprint" id="naan-info-source"></pre>
        <script>
        $(function() {
            var txt = $("#naan-info-demo").html();
            $("#naan-info-source").text(txt);
        });
        </script>
        
    </div>
  </div>
   
{% endblock %}
